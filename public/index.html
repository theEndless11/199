<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatVerse | Sign Up / Login</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
  html, body {
    height: 100%;
    overflow-y: auto; /* Show scrollbar only if content overflows */
}

/* General Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
/* Body Flex Layout */
body {
    font-family: 'Poppins', sans-serif;
    background: #000000;
    color: #cdcdcd;
    display: flex;
    flex-direction: column;
    min-height: 100vh;  /* Ensure full height */
}

/* Header */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #333;
    color: white;
    padding: 10pxpx 10px;
    text-align: center;
    position: sticky;
    top: 0;
    width: 100%;  /* Ensures full width */
    z-index: 10;
}

/* Container */
.container {
    width: 90%;
    max-width: 400px;
    background: #000000;
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    text-align: center;
    margin-top: 60px;  /* Adds some space below the header */
    flex-grow: 1;  /* Allow container to grow and take available space */
    align-self: center;  /* Center the container */
}


.header-left {
    display: flex;
    align-items: center;
}

/* Hamburger Menu - more attractive design */
.hamburger-menu {
    display: flex;
    flex-direction: column;
    cursor: pointer;
    gap: 5px;
    margin-right: 20px;
    transition: transform 0.3s ease;
    position: relative;
    z-index: 9999; /* Ensure hamburger is on top */
}

/* Gradient color for the hamburger bars */
.hamburger-menu .bar {
    width: 35px;
    height: 5px;
    background: linear-gradient(45deg, #ff6f61, #ff9f00); /* Gradient effect for bars */
    border-radius: 5px;
    transition: all 0.3s ease;
    transform-origin: center;
}

/* Hamburger to "X" Animation */
.hamburger-menu.active .bar:nth-child(1) {
    transform: rotate(45deg) translateY(8px);
    background: linear-gradient(45deg, #ff5733, #ff9f00); /* Bright color on top bar */
}

.hamburger-menu.active .bar:nth-child(2) {
    opacity: 0; /* Hide middle bar */
}

.hamburger-menu.active .bar:nth-child(3) {
    transform: rotate(-45deg) translateY(-8px);
    background: linear-gradient(45deg, #ff5733, #ff9f00); /* Bright color on bottom bar */
}

/* Dropdown Menu Styling */
.dropdown-menu {
    display: none; /* Start hidden */
    position: absolute;
    top: 50px;
    left: 0;
    background: #333; /* Dark background for the dropdown */
    border-radius: 8px;
    width: 220px; /* Reduced width for the dropdown */
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
    z-index: 999;
    padding: 10px;
    transition: transform 0.4s ease, opacity 0.3s ease;
    opacity: 0;
    transform: scale(0.9); /* Start slightly scaled down */
}

/* Dropdown Menu Show Animation */
.dropdown-menu.active {
    display: block;
    opacity: 1;
    transform: scale(1); /* Smooth scale-up effect */
}

/* Styling for the list items */
.dropdown-menu ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.dropdown-menu ul li {
    padding: 10px 0;
    text-align: center;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

.dropdown-menu ul li a {
    color: #fff;
    text-decoration: none;
    font-weight: bold;
    display: block;
    padding: 10px;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

/* Hover Effects for Links */
.dropdown-menu ul li a:hover {
    background-color: green; /* Bright color on hover */
    transform: translateX(5px); /* Slight right shift for hover effect */
}

/* Submenu for Translation */
.sub-menu {
    display: none;
    padding-left: 10px;
}

.dropdown-menu ul li:hover .sub-menu {
    display: block;
}

/* Submenu Items Style */
.sub-menu li {
    padding: 8px 0;
    text-align: left;
    background-color: #ff0044;
    border-radius: 5px;
}

/* Submenu Item Hover Effect */
.sub-menu li a:hover {
    background-color: #ff4f77;
}

/* Footer */
footer {
    background-color: #333;
    color: white;
    padding: 20px;
    text-align: center;
    margin-top: auto;  /* Push footer to the bottom */
    width: 100%;  /* Ensures footer spans full width */
}

/* Social links */
footer .social-links {
    list-style: none;
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 10px;
}

footer .social-links li a {
    text-decoration: none;
    color: white;
    font-size: 1.5rem;
    transition: color 0.3s;
}

footer .social-links li a:hover {
    color: #f39c12;
}

/* Success/Message Container */
.message-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 15px;
    font-size: 16px;
    border-radius: 8px;
    display: block;
    width: 300px;
    text-align: center;
    z-index: 9999;
}

.success {
    background-color: #4CAF50;
    color: rgb(68, 63, 63);
    border: 1px solid #4CAF50;
}

.error {
    background-color: #f44336;
    color: white;
    border: 1px solid #f44336;
}
h1 {
    font-size: 25px;
    font-weight: 600;
    margin-bottom: 20px;
    color: #ededed;
}

.welcome-text {
    font-size: 17px;
    line-height: 1.8;  /* Improved line spacing for readability */
    margin-bottom: 25px;
    color: #e0e0e0;
}

h2 {
    font-size: 22px;
    font-weight: 500;
    margin-bottom: 15px;
    color: #fff;
    line-height: 1.6;
}

p {
    font-size: 16px;
    line-height: 1.8;
    color: #e0e0e0;
    margin-bottom: 15px;
}

input {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border: none;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.2);
    color: #fff;
    font-size: 15px;
    outline: none;
    transition: background 0.3s ease;
}

input::placeholder {
    color: #e0e0e0;
}

input:focus {
    background: rgba(255, 255, 255, 0.3);
}

button {
    width: 100%;
    padding: 12px;
    background: #667eea;
    color: #fff;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.3s ease;
}

button:hover {
    background: #5a6fd1;
}

.toggle-link {
    margin-top: 20px;
    font-size: 14px;
    color: #e0e0e0;
}

.toggle-link a {
    color: #001058;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
}

.toggle-link a:hover {
    color: #5a6fd1;
}

/* Feature Text */
.feature-text {
    margin-top: 40px;
}

.feature-text h3 {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 20px;
    color: #fff;
}

.feature-text p {
    font-size: 16px;
    line-height: 1.8;
    margin-bottom: 10px;
    color: #e0e0e0;
}

.feature-text span {
    font-weight: 600;
    color: #667eea;
}

.feature-text a {
    color: #667eea;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
}

.feature-text a:hover {
    color: #5a6fd1;
}

/* Additional Text */
.additional-text {
    margin-top: 30px;
    text-align: left;
    font-size: 16px;
    color: #e0e0e0;
    line-height: 1.8;
}

.additional-text h2 {
    font-size: 22px;
    font-weight: 500;
    color: #fff;
    margin-bottom: 15px;
}

.additional-text p {
    margin-bottom: 15px;
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive Design */
@media (max-width: 480px) {
    h1 {
        font-size: 24px;
    }

    .welcome-text {
        font-size: 13px;
    }

    .form-container h2 {
        font-size: 20px;
    }

    input, button {
        padding: 10px;
        font-size: 14px;
    }

    .toggle-link {
        font-size: 13px;
    }

    .feature-text h3 {
        font-size: 16px;
    }

    .feature-text p {
        font-size: 13px;
    }
}

</style>
    <body>
        <header>     
            <div class="header-left">
            <div class="hamburger-menu" id="hamburger-menu">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
            <div class="logo" id="logo">
                <h1>News</h1>
            </div>
        </div>
    
    <!-- Dropdown Menu -->
    <div class="dropdown-menu" id="dropdown-menu">
        <ul>
            <li><a href='Home.html'>Home</a></li>
               <li><a href="news.html">News</a></li>
                <li><a href="https://latestnewsandaffairs.site/live Ind vs Eng t20i.html">Sports</a></li>
            <li><a href="bb.html">Quiz</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="doge.html">chat</a></li>
               <li><a href="terms and con.html">Terms & Conditions</a></li>
        </ul>
    </div>
    </header>
    <div class="container">
        <!-- Welcome Text Section -->
        <div class="welcome-text">
            <h1>Welcome to ChatVerse</h1>
            <p>ChatVerse is your go-to place for seamless conversations, whether it's with old friends or new ones. It’s not just a chatting app—it's a social space where you can connect, share, and grow.</p>
        </div>

        <!-- Login Form -->
        <div id="login-form" class="form-container">
            <h2>Login</h2>
            <form id="login">
                <input type="text" id="login-username" placeholder="Username" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <div class="toggle-link">
                <p>Don't have an account? <a href="javascript:void(0)" onclick="showSignup()">Sign Up</a></p>
            </div>
        </div>

        <!-- Sign-Up Form -->
        <div id="signup-form" class="form-container" style="display:none;">
            <h2>Sign Up</h2>
            <form id="signup">
                <input type="text" id="signup-username" placeholder="Username" required>
                <input type="password" id="signup-password" placeholder="Password" required>
                <button type="submit">Sign Up</button>
            </form>
            <div class="toggle-link">
                <p>Already have an account? <a href="javascript:void(0)" onclick="showLogin()">Login</a></p>
            </div>
        </div>

         <!-- Extra content for the first page -->
        <div class="additional-text">
            <h2>Why ChatVerse?</h2>
            <p>In a world that's always connected, it’s important to find a space where you can have meaningful conversations without distractions. ChatVerse offers you just that. We believe that communication is key to building relationships, whether personal or professional. Our platform makes it easier for you to reach out to others, share your ideas, and stay connected.</p>
            <p>Our features are designed to make your experience smoother and more enjoyable. Whether you're chatting with friends, joining group discussions, or exploring new ideas, ChatVerse helps you do it all.</p>
        </div>

        <!-- Features of ChatVerse -->
        <div class="feature-text">
            <h3>Features of ChatVerse</h3>
            <p><span>Instant Messaging</span> – Chat in real-time with your friends and family.</p>
            <p><span>Group Chats</span> – Connect with multiple people instantly.</p>
            <p><span>Security First</span> – End-to-end encryption ensures your privacy.</p>
            <p><span>Customize Your Profile</span> – Express yourself with a unique profile.</p>
            <p><span>Multi-Device Support</span> – Stay connected across all your devices.</p>
            <p><a href="javascript:void(0)" onclick="showSignup()">Join now</a> and start chatting today!</p>
        </div>

        <!-- Extra content for second page -->
        <div class="additional-text">
            <h2>Building Connections</h2>
            <p>With ChatVerse, you’re not just chatting – you’re building a community. From individual chats to group conversations, we aim to provide an environment that encourages collaboration, creativity, and personal growth. Our platform enables you to reach out to people globally and interact in ways that are both meaningful and enjoyable.</p>
            <p>We believe that technology should bring people together. That’s why we focus on creating a platform that fosters open and honest conversations while prioritizing your privacy and safety.</p>
        </div>

        <!-- Extra content for third page -->
        <div class="additional-text">
            <h2>Join the ChatVerse Community</h2>
            <p>Ready to take your social experience to the next level? ChatVerse offers everything you need to stay connected with the people who matter most. Whether you’re catching up with friends or exploring new conversations, you’ll find a place that feels just like home. Sign up today, and discover how easy it is to connect, chat, and share.</p>
            <p>With ChatVerse, the world is just one message away. Create your account and join the millions of users already enjoying a new way to communicate. We can’t wait to welcome you to the family!</p>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 NewsNow. All Rights Reserved.</p>
        <p>Follow us on social media for real-time updates:</p>
        <ul class="social-links">
            <li><a href="www.facebook.com" class="social-icon"><i class="fab fa-facebook-f"></i></a></li>
            <li><a href="www.twitter.com" class="social-icon"><i class="fab fa-twitter"></i></a></li>
            <li><a href="www.instagram.com" class="social-icon"><i class="fab fa-instagram"></i></a></li>
            <li><a href="www.youtube.com" class="social-icon"><i class="fab fa-youtube"></i></a></li>
        </ul>
    </footer>

</body>

    
<script>
    const hamburgerMenu = document.getElementById('hamburger-menu');
    const dropdownMenu = document.getElementById('dropdown-menu');
    
    // Add click event listener for the hamburger menu
    hamburgerMenu.addEventListener('click', function() {
        // Toggle 'active' class on hamburger to animate the icon
        this.classList.toggle('active');
        
        // Toggle the visibility of the dropdown menu
        dropdownMenu.classList.toggle('active');
    });
    
    // Close the menu if clicked outside
    document.addEventListener('click', function(event) {
        if (!hamburgerMenu.contains(event.target) && !dropdownMenu.contains(event.target)) {
            dropdownMenu.classList.remove('active'); // Hide the menu if clicked outside
            hamburgerMenu.classList.remove('active'); // Reset hamburger icon
        }
    });
// Show the login form
function showLogin() {
    document.getElementById('login-form').style.display = 'block';
    document.getElementById('signup-form').style.display = 'none';
}

// Show the signup form
function showSignup() {
    document.getElementById('login-form').style.display = 'none';
    document.getElementById('signup-form').style.display = 'block';
}

// Handle login
document.getElementById('login').addEventListener('submit', async function(e) {
    e.preventDefault();
    const username = document.getElementById('login-username').value;
    const password = document.getElementById('login-password').value;

    try {
        const response = await fetch('/api/auth', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                username,
                password,
                action: 'login',
            })
        });

        const responseText = await response.text(); // Get raw response text

        try {
            const data = JSON.parse(responseText); // Try parsing JSON
            const messageContainer = document.createElement('div'); // Create message container

            if (response.ok) {
                // Create success message
                messageContainer.classList.add('message-container', 'success');
                messageContainer.textContent = 'Login successful!';
                document.body.appendChild(messageContainer); // Append to the body
                
                const userId = data.userId;
                localStorage.setItem('userId', userId);
                window.location.href = `/users.html?userId=${userId}`;  // Redirect to users page with userId

                // Hide the message after 3 seconds
                setTimeout(() => {
                    messageContainer.remove();
                }, 3000);
            } else {
                // Create error message
                messageContainer.classList.add('message-container', 'error');
                messageContainer.textContent = data.message || 'An error occurred during login.';
                document.body.appendChild(messageContainer); // Append to the body

                // Hide the message after 3 seconds
                setTimeout(() => {
                    messageContainer.remove();
                }, 3000);
            }
        } catch (error) {
            // Log the error for debugging and show a system error message
            console.error('Error during fetch or JSON parsing:', error);
            
            const messageContainer = document.createElement('div'); // Create message container
            messageContainer.classList.add('message-container', 'error');
            messageContainer.textContent = 'System Error: We are unable to process your request at this time. Please try again later.';
            document.body.appendChild(messageContainer); // Append to the body

            // Hide the message after 3 seconds
            setTimeout(() => {
                messageContainer.remove();
            }, 3000);
        }
    } catch (error) {
        // Log any other errors that may occur
        console.error('Unexpected error:', error);
    }
}); // <- Closing parenthesis for the first event listener

// Handle signup
document.getElementById('signup').addEventListener('submit', async function(e) {
    e.preventDefault();
    const username = document.getElementById('signup-username').value;
    const password = document.getElementById('signup-password').value;

    try {
        const response = await fetch('/api/auth', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                username,
                password,
                action: 'signup',
            })
        });
        const responseText = await response.text(); // Get raw response text

        try {
            const data = JSON.parse(responseText); // Try parsing JSON
            const messageContainer = document.createElement('div'); // Create message container

            if (response.ok) {
                // Create success message for signup
                messageContainer.classList.add('message-container', 'success');
                messageContainer.textContent = 'Signup successful! Please login.';
                document.body.appendChild(messageContainer); // Append to the body

                // Show login form or trigger the function to show login form
                showLogin();

                // Hide the message after 3 seconds
                setTimeout(() => {
                    messageContainer.remove();
                }, 3000);
            } else {
                // Create error message
                messageContainer.classList.add('message-container', 'error');
                messageContainer.textContent = data.message || 'An error occurred during signup.';
                document.body.appendChild(messageContainer); // Append to the body

                // Hide the message after 3 seconds
                setTimeout(() => {
                    messageContainer.remove();
                }, 3000);
            }
        } catch (error) {
            // Log the error for debugging and show a system error message
            console.error('Error during fetch or JSON parsing:', error);
            
            const messageContainer = document.createElement('div'); // Create message container
            messageContainer.classList.add('message-container', 'error');
            messageContainer.textContent = 'System Error: We are unable to process your request at this time. Please try again later.';
            document.body.appendChild(messageContainer); // Append to the body

            // Hide the message after 3 seconds
            setTimeout(() => {
                messageContainer.remove();
            }, 3000);
        }
    } catch (error) {
        // Log any other errors that may occur
        console.error('Unexpected error:', error);
    }
}); // <- Closing parenthesis for the second event listener
</script>
<!-- Make sure you close your <script> tag properly -->
